!function o(i,r,c){function a(t,e){if(!r[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=r[t]={exports:{}},i[t][0].call(n.exports,function(e){return a(i[t][1][e]||e)},n,n.exports,o,i,r,c)}return r[t].exports}for(var l="function"==typeof require&&require,e=0;e<c.length;e++)a(c[e]);return a}({1:[function(e,t,n){"use strict";function d(e){return e.top<=(window.innerHeight||document.documentElement.clientHeight)&&e.left<=(window.innerWidth||document.documentElement.clientWidth)}function u(i){const e=document.querySelectorAll("img, video, p, main, div"),r=[];return e.forEach(t=>{var e=t.getBoundingClientRect();if(0<e.width&&0<e.height&&d(e)){var n=Math.min(e.width,(window.innerWidth||document.documentElement.clientWidth)-e.left)*Math.min(e.height,(window.innerHeight||document.documentElement.clientHeight)-e.top),o=function(e){if("IMG"===e.tagName)return e.src;const t=window.getComputedStyle(e).getPropertyValue("background-image");if(t&&"none"!==t)return t.replace(/^url\(['"](.+)['"]\)$/,"$1");return null}(t);if(null!==o){for(let e=0;e<r.length;e++)if(n>r[e].area){r.splice(e,0,{element:t,area:n,imageURL:o}),r.length=Math.min(i,r.length);break}r.length<i&&r.push({element:t,area:n,imageURL:o})}}}),r.map(e=>({element:e.element,imageURL:e.imageURL}))}let m=[];async function o(){const e=u(1);0!==e.length?(console.log("Estimated LCP element:",e),m=e.map(e=>({src:e.imageURL,label:"lcp"}))):console.log("No LCP candidate found.");for(var t=document.querySelectorAll("img"),n=0;n<t.length;n++){var o=t[n];if(d(o.getBoundingClientRect())){for(var i=o.parentNode;i!==document;){var r=window.getComputedStyle(i).display,c=window.getComputedStyle(i).visibility;if("none"===r||"hidden"===c)break;i=i.parentNode}m.some(e=>e.src===o.src)||i!==document||m.push({src:o.src,label:"above-the-fold"})}}console.log(m);var a=JSON.stringify(m);window.performance_images_json=a,console.log(a);const l=new FormData;l.append("action","rocket_lcp"),l.append("rocket_lcp_nonce",rocket_lcp_data.nonce),l.append("url",rocket_lcp_data.url),l.append("is_mobile",rocket_lcp_data.is_mobile),l.append("images",a),l.append("status","success"),await fetch(rocket_lcp_data.ajax_url,{method:"POST",credentials:"same-origin",body:l}).then(e=>e.json()).then(e=>{console.log(e)}).catch(e=>{console.error(e)})}"loading"!==document.readyState?(console.time("extract"),setTimeout(o,500),console.timeEnd("extract")):document.addEventListener("DOMContentLoaded",async function(){console.time("extract"),setTimeout(o,500),console.timeEnd("extract")})},{}]},{},[1]);
//# sourceMappingURL=lcp-beacon.js.map
